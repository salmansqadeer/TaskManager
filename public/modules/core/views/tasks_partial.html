<!-- TASK DETAILS -->

<div class="tasks" ng-init = "showNewTaskForm = false ">

		<div class="btn btn-default" ng-click="showNewTaskForm = ! showNewTaskForm">
			New Task
		</div>

        <!-- Table -->
        <table class="table table-hover">
            <thead>
                <tr>
                    <th class='col-md-1' ></th>
                    <th class='col-md-8' >

                    	<div class="list_name_display">
							{{lists[ getSelectedList() ].name}}
                    	</div>

					</th>
                    <th class='col-md-1' >Start Date</th>
                    <th class='col-md-1' >Due Date</th>
                    <th class='col-md-1' ></th>
                </tr>
            </thead>
			<tbody>

            	<!-- Add New Task to this Todo list-->
				<tr ng-show = "showNewTaskForm">
                    <form name="newTaskForm" id="newTaskForm" ng-submit="createTask( getSelectedList() )" novalidate>	                        
                            <div class="form-group">
                   
	                                <!--Checkbox (empty)-->
	                                <td class='col-md-1'></td>

	                                <td class='col-md-8'>
	                                    <input type="text" data-ng-model="name" id="name" class="form-control" placeholder="Name" required>
	                                </td>

	                                <td class='col-md-1'>
	                                    <input type="date" data-ng-model="startDate" id="startDate" class="form-control" placeholder="Start Date">
	                                </td>
	                                
	                                <td class='col-md-1'>
	                                    <input type="date" data-ng-model="dueDate" id="dueDate" class="form-control" placeholder="End Date">
	                                </td>

									<td class='col-md-1'>
										<input type="submit" class="btn btn-default" ng-click="createTask(getSelectedList())">
									</td>


                            </div>

                            <div data-ng-show="error" class="text-danger">
                                <strong data-ng-bind="error"></strong>
                            </div>
                        
                    </form>
                </tr>

                <!-- LIST ALL TASKS -->

                <tr class="vert-align" data-ng-repeat="task in lists[ getSelectedList() ].tasks" ng-class="{completedTask: task.status}">
                    <td>
                    	<input id="{{$index}}" type="checkbox" data-ng-bind="task.status" ng-checked="task.status" ng-click="toggleStatus(task)" >

                    	<!-- This label holds the custom checkbox styled via css -->
						<label for="{{$index}}"></label>

                    </td>
                    <td>
                    	{{task.name}}
                    </td>
                    <td>
        				<span data-ng-bind="task.startDate | date:'mediumDate'"></span>
                    </td>
                    <td>
						<span data-ng-bind="task.dueDate | date:'mediumDate'"></span>
                    </td>
                    
                    <td>
                    	<!-- Delete a task -->
	                    <div class="pull-right delete">
	                        <a ng-click="removeTask($index)">
	                            <i class="glyphicon glyphicon-trash"></i>
	                        </a>
	                    </div>
                    </td>
                </tr>
				
            </tbody>
        </table>

    <!-- Notify the user if there are no tasks -->
    <div class="alert alert-warning text-center" data-ng-hide="lists[ getSelectedList() ].tasks.length">
    	No Tasks added to this list yet, why don't you add one?
    </div>

</div>
